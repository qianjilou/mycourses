<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title> 小球撞墙小游戏 </title>
  <style type="text/css">
	body{
		background-color:black;
	}
  </style>
  
 </head>
 <body>
  <canvas id="my-canvas" width="500px" height="400px" style="border:1px solid red" >
  <script type="text/javascript">
	//1.先得到这个画布，然后画出红色的小球
	var my_canvas = document.getElementById("my-canvas");
	var my_huabi = my_canvas.getContext("2d");

	//2.画出小球
	//需要定义两个变量,分别是小球的横坐标和纵坐标
	var ball_x = 50;
	var ball_y = 50;
	var ball_r = 20;

	//调用一下画出小球的函数
	drawBall(ball_x, ball_y);
	
	function drawBall(x, y)
	{
		//给画笔颜色
		my_huabi.fillStyle = "blue";
		my_huabi.beginPath();
		my_huabi.arc(x, y, ball_r, 0, 2 * Math.PI);
		my_huabi.fill();
	}

	//3.让小球自动移动
	var ball_x_fx = true; //当ball_x_fx为true表示，小球向x的正向
	var ball_y_fx = true; //当ball_y_fx为true表示，小球向y的正向
	var ball_speed = 1;
	
	//使用定时器不停的移动
	window.setInterval("moveBall()", 8);
	
	function moveBall()
	{
		//判断当前小球x的运动方向
		if(ball_x_fx)
		{
			ball_x += ball_speed;
			if(ball_x >= 500 - ball_r)
			{
				ball_x_fx = false;
			}
		}else
		{
			ball_x -= ball_speed;
			if(ball_x <= ball_r)
			{
				ball_x_fx = true;
			}
		}

		//判断当前小球y的运动方向
		if(ball_y_fx)
		{
			ball_y += ball_speed;
			if(ball_y >= 400 - ball_r)
			{
				//如果碰到边界了，请换方向
				ball_y_fx = false;
			}
		}else
		{
			ball_y -= ball_speed;
			if(ball_y <= ball_r)
			{
				ball_y_fx = true;
			}
		}

		//清屏
		my_huabi.clearRect(0, 0, 500, 400);
		drawBall(ball_x, ball_y);
		
	}

  </script>
 </body>
</html>
