<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title> 使用onkeydown完成一个移动div </title>
  <style type="text/css">
/*	#div1{
		position:absolute;
		width:300px;
		height:300px;
		background-color:red;
		top: 10px;
		left:50px;
	}*/
  </style>
 
 </head>
 <body onkeydown="start(event)">
  <div id="div1" style="position:absolute;width:300px;height:300px;background-color:red;top: 10px;left:50px;">
  </div>

   <script type="text/javascript">

	//这里我们获取到div这个Element对象，为了让其他函数可以使用
	//我们将其定义为全局变量
	var div_obj = document.getElementById("div1");
	
	function move(direct, step)
	{
		var val = 0;
		switch(direct)
		{
			case "up":
				val = div_obj.style.top;
				val = val.substring(0, val.indexOf("p"));
				val = parseInt(val);
				val -= step;
				break;
			case "down":
				val = div_obj.style.top;
				val = val.substring(0, val.indexOf("p"));
				val = parseInt(val);
				val += step;
				break;
			default:
				break;
				
		}
		return val + "px";
	}


	function start(myevent)
	{
		//我们假设 a 向左 w 向上 s 向下 d 向右
		//keyCode是监控到用户按下的按键
		var keyCode = myevent.keyCode;
		switch(keyCode )
		{
			case 83:    	
				div_obj.style.top = move("down", 3);
				break;
			case 68:  //向右动
				break;
			case 87: //向上		
				div_obj.style.top = move("up", 3);
				break;
			default:
		}
		
	}
  </script>
 </body>
</html>
